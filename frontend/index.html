<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <title>Canvas interface for MNIST-trained digit recognition neural network</title>
        <script src="https://cdn.plot.ly/plotly-latest.min.js" charset="utf-8"></script>
        <script src="script.js" charset="utf-8"></script>
        <link rel="stylesheet" href="style.css" />
    </head>
    <body>
        <h1>DRAW A NUMBER</h1>
        <div class="horizontal-container">
            <div class="vertical-container">
                <input type="button" onclick="clearCanvas('input')" value="Clear" />
                <canvas width="280" height="280" id="input" class="big-canvas"></canvas>
            </div>
            <div class="vertical-container">
                <label for="margin">Margin</label>
                <input type="number" id="margin" min="0.0" step="0.1" value="1" /> 
                <label for="model">Model</label>
                <input type="number" id="model" min="2" step="1" max="10" value="7"/>
             </div>
        </div>
        <h1>OR CHOOSE A NUMBER</h1>
        <div class="vertical-container">
            <input type="button" onclick="getExamples()" value="Get More Examples" />
            <div id="examples" class="horizontal-container">
        </div>
        <h1>RESULTS</h1>
        <div class="horizontal container">
            <div>
                <h2>Read number:</h2>
                <strong id="digit"></strong>
            </div>
            <div>
                <p>Because we are representing the <strong>open set recognition</strong> problem
                   The read number could be either the <strong>number</strong> its self or <strong>unknown</strong>
                   if the number is detected to belong outside of training classes.
                </p>
            </div>
        </div>    
        <h2>GRAD-CAM</h2>
        <div class="horizontal-container">
            <div class="vertical-container">
                <div class="horizontal-container">
                    <label for="grad-cam-attention">Grad-CAM class</label>
                    <select name="grad-cam-attention" id="grad-cam-attention">
                        <option value="-1">Predicted class</option>
                        <option value="0">0</option>
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5</option>
                        <option value="6">6</option>
                        <option value="7">7</option>
                        <option value="8">8</option>
                        <option value="9">9</option>
                        <option value="10">10</option>
                    </select>
                </div>
                <canvas width="280" height="280" id="grad-cam" class="big-canvas"></canvas>
            </div>
            <div class="vertical-container">
                <p><strong>Grad-CAM</strong> is a technique that combines both backpropagation and activation values
                to display what's regarded as "attention" for each pixel in the input image
            </p>
            </div>
        </div>

        <div>
            <div>
               <h2>PROBABILITIES</h2>
               <div class="horizontal-container">
                    <div id='probabilities' class="bar-graph"></div>
                    <p>This graph represents the <strong>probabilities</strong> of which class the given number
                    belongs to. These <strong>classes</strong> are the ones that the model was <strong>trained</strong> on.</p>
               </div>
            </div>
            <div>
               <h2>ENTROPY</h2>
               <div class="horizontal-container">
                  <div id='entropy' class="bar-graph"></div>
                   <p>This naive approach to open set recognition uses a margin on <strong>information entropy</strong>
                     of the probabilities to determine if a class is unknown. This decision is based on the assumption
                    that the network produces probabilities with high entropy on unknown. It happens to be a poor choice
                    if the unknown class resembles one of the </p>
                </div>  
            </div>
        </div>
    </body>
</html>